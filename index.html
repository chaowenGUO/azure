<!DOCTYPE html>
<html>
  <head>
      <meta charset='utf-8'>
      <title>latex</title>
      <script src='https://pyodide-cdn2.iodide.io/v0.15.0/full/pyodide.js'></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/mml-chtml.js"></script>
  </head>
  <body>
  <div></div>
      <script type='module'>
          await languagePluginLoader
          await pyodide.loadPackage('sympy')
          let response = await globalThis.fetch('index.py')
          response = response.ok ? await response.text() : ''
          document.querySelector('div').appendChild(globalThis.MathJax.mathml2chtml(['<math>', pyodide.runPython(response), '</math>'].join('')))
          globalThis.MathJax.startup.document.clear()
          globalThis.MathJax.startup.document.updateDocument()
      </script>
  </body>
</html>
